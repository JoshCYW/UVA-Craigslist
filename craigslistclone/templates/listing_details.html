<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=&callback=initMap" type="text/javascript"></script>
<!-- AIzaSyBZiiJxIQrpxmMopu-UyqmZEYX7np2CKsw -->
<!------ Include the above in your HEAD tag ---------->

<head>
  <title>Loxodanta | Map</title>
</head>

<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body style="background-color: #F2F2F2" onLoad="initialize()">
    {% csrf_token %}
    <header class="masthead mb-auto">
            <div class="navigation-bar" style="background-color: #343A40;">
              <h3 align="center"> 
                <a class="masthead-brand static-top justify-content-center" href="{% url 'home' %}" style="color:white">
                  <img src="/media/image_folder/logo.png" width="300" height="120" alt=""> </a>
              </h3>
              <nav class="nav nav-masthead justify-content-center">
                <a class="nav-link" href="{% url 'home' %}" style="color:white">Home</a>
                <a class="nav-link" href="{% url 'createListing' %}" style="color:white">Create New Listing</a>
                <a class="nav-link" href="{% url 'listings' %}?cat=All" style="color:white">Listings</a>
                <a class="nav-link" href="{% url 'profile' %}" style="color:white">Profile</a>                
                <a class="nav-link" href="{% url 'logout' %}" style="color:white">Logout</a>
              </nav>
            </div>
    </header>

    <section>
        <h2 style="font-size:32px; text-align:center; padding-top: 50px">Item Pickup Location:</h2>
        <div class="map">
            <div class="container" style="margin-top: 20px; margin-bottom: 50px">
                <div class="col-sm-offset-1" id="map_canvas" style="width:1100; height:700;"></div>
            </div>
        </div>
    </section>


    <!-- Javascript to handle map generation and coordinates -->
    <script type="text/javascript">
        var map;
        var latitude1 = "{{ listing.latitude }}";
        var longitude1 = "{{ listing.longitude }}";
        function initialize() {
            var myLatlng = new google.maps.LatLng(latitude1, longitude1);
            var myOptions = {
                zoom: 14,
                minZoom:10,
                center: myLatlng,
                draggable: true,
                mapTypeId: google.maps.MapTypeId.MAP
            }
            map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
            var marker = new google.maps.Marker({
                draggable: false,
                position: myLatlng, 
                map: map,
            });
            google.maps.event.addListener(marker, 'dragend', function(event) {
                document.getElementById("lat").value = this.getPosition().lat();
                document.getElementById("lng").value = this.getPosition().lng();
            }); 
        }
    </script>


</body>


    <!-- <footer class="footer bg-dark">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 text-center text-lg-left my-auto">
                        <p class="text-muted mb-4 mb-lg-0">© CS3240 - Loxodanta 2019</p>
                    </div>
                </div>
            </div>
    </footer> -->

    <footer class="footer bg-dark" style="position:relative; clear:both; width:100%; height: 2.5rem;box-shadow: 0px 2px 20px 1px rgba(0, 0, 0, 0.2);">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-center text-lg-left my-auto">
                  <p class="text-muted mb-4 mb-lg-0">© CS3240 - Loxodanta 2019</p>
                </div>
            </div>
        </div>
      </footer>
        
</html>